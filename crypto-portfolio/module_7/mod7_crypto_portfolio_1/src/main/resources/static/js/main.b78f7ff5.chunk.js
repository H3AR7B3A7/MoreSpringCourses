(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,n){e.exports=n(70)},42:function(e,t,n){},47:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(31),c=n.n(o),i=(n(42),n(5)),l=n(6),s=n(8),u=n(7),m=n(9),h=n(13),p=(n(47),n(33)),b=n(73),d=n(10),f=n.n(d),v=n(15),E=n(16),y=n.n(E),j=function(){return function(){var e=Object(v.a)(f.a.mark(function e(t){var n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("http://localhost:8080/api/portfolio");case 2:n=e.sent,a=n.data,r={type:"GotPositions",positions:a.positions,isAuthenticated:!0},t(r);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(v.a)(f.a.mark(function t(n){var a,r,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={Authorization:"Basic "},t.next=3,y.a.get("http://localhost:8080/api/portfolio/transactions/"+e,{headers:a});case 3:r=t.sent,o=r.data,n({type:"GotTransactions",transactions:o,isAuthenticated:!0});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},g=function(e){var t=e.position;return a.createElement("tr",null,a.createElement("th",null,t.cryptoCurrency.symbol),a.createElement("th",null,t.quantity),a.createElement("th",null,t.value))},C=n(22),S=n(2),k=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={cryptoSymbol:"",type:"",quantity:0,price:0},n.onChange=n.onChange.bind(Object(S.a)(Object(S.a)(n))),n.onSelectChange=n.onSelectChange.bind(Object(S.a)(Object(S.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(S.a)(Object(S.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.setState(Object(C.a)({},e.target.name,e.target.value))}},{key:"onSelectChange",value:function(e){this.setState(Object(C.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={cryptoSymbol:this.state.cryptoSymbol,price:this.state.price,quantity:this.state.quantity,transactionType:this.state.type};void 0!==this.props.addTransaction&&this.props.addTransaction(t)}},{key:"render",value:function(){return a.createElement("div",{className:"container add_trans_div"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("fieldset",null,a.createElement("label",null,"Symbol"),a.createElement("select",{name:"cryptoSymbol",required:!0,value:this.state.cryptoSymbol,onChange:this.onSelectChange},a.createElement("option",{value:""},"----Select----"),a.createElement("option",{value:"BTC"},"BTC"),a.createElement("option",{value:"LTC"},"LTC")),a.createElement("label",null,"Symbol"),a.createElement("select",{name:"type",required:!0,value:this.state.type,onChange:this.onSelectChange},a.createElement("option",{value:""},"----Select----"),a.createElement("option",{value:"BUY"},"BUY"),a.createElement("option",{value:"SELL"},"SELL")),a.createElement("label",null,"Quantity"),a.createElement("input",{type:"number",name:"quantity",required:!0,value:this.state.quantity,onChange:this.onChange}),a.createElement("label",null,"Price"),a.createElement("input",{type:"number",name:"price",required:!0,value:this.state.price,onChange:this.onChange}),a.createElement("button",{name:"addTransactionBtn",type:"submit"},"Add Transaction"))))}}]),t}(a.Component),T=Object(h.b)(null,function(e){return{addTransaction:function(t,n){return e(function(e){return function(){var t=Object(v.a)(f.a.mark(function t(n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.post("http://localhost:8080/api/portfolio/transactions",e);case 2:t.sent,n(j());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(k),w=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.createElement(a.Fragment,null,a.createElement("table",{className:"table table-hover"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Symbol"),a.createElement("th",null,"Quantity"),a.createElement("th",null,"Value"))),a.createElement("tbody",null,this.props.positions.map(function(e){return a.createElement(g,{key:e.cryptoCurrency.symbol,position:e})}))),a.createElement(T,null))}}]),t}(a.Component),x=function(e){return a.createElement("tr",null,a.createElement("th",null,a.createElement("input",{id:e.transaction.id,name:"selectedTransaction",type:"checkbox",onChange:e.handleCheckboxChange,value:e.transaction.id})),a.createElement("th",null,e.transaction.id),a.createElement("th",null,e.transaction.symbol),a.createElement("th",null,e.transaction.transactionType),a.createElement("th",null,e.transaction.quantity),a.createElement("th",null,e.transaction.price))},N=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleCheckboxChange=function(e){n.toggleCheckbox(e.target.value)},n.toggleCheckbox=function(e){n.state.selectedTransactionIds.has(e)?n.state.selectedTransactionIds.delete(e):n.state.selectedTransactionIds.add(e)},n.state={selectedTransactionIds:new Set},n.handleSubmit=n.handleSubmit.bind(Object(S.a)(Object(S.a)(n))),n.handleCheckboxChange=n.handleCheckboxChange.bind(Object(S.a)(Object(S.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.loadTransactions()}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(e.target),this.props.deleteTransactions(Array.from(this.state.selectedTransactionIds))}},{key:"render",value:function(){var e=this;return a.createElement(a.Fragment,null,a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("table",{className:"table table-hover"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"#"),a.createElement("th",null,"Transaction Id"),a.createElement("th",null,"Symbol"),a.createElement("th",null,"Type"),a.createElement("th",null,"Quantity"),a.createElement("th",null,"Price"))),a.createElement("tbody",null,this.props.transactions.map(function(t,n){return a.createElement(x,{key:t.id,handleCheckboxChange:e.handleCheckboxChange,transaction:t})}))),a.createElement("button",{name:"deleteTransactionBtn",type:"submit"},"Delete Transactions")))}}]),t}(a.Component),q=Object(h.b)(function(e){return{transactions:e.portfolioTransactions.transactions}},function(e){return{loadTransactions:function(t){return e(O(t))},deleteTransactions:function(t){return e(function(e){return function(){var t=Object(v.a)(f.a.mark(function t(n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.delete("http://localhost:8080/api/portfolio/transactions",{data:{id:e}});case 2:t.sent,n(O()),n(j());case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(N),A=n(72),B=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=n.handleSubmit.bind(Object(S.a)(Object(S.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),void 0!==this.props.logout&&this.props.logout()}},{key:"render",value:function(){return a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("button",{name:"logoutFormBtn",type:"submit"},"Logout"))}}]),t}(a.Component),L=Object(h.b)(null,function(e){return{logout:function(t,n){return e(function(){var e=Object(v.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("http://localhost:8080/api/logout",a);case 2:e.sent,t(function(){var e=Object(v.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GotPositions",positions:[],isAuthenticated:!1});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var a}}})(B),P=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.createElement("nav",{className:"navbar navbar-expand-sm  navbar-light crypt_nav"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"navbar-header"},a.createElement("a",{className:"navbar-brand",href:"#"},"Spring - Crypto Portfolio")),a.createElement("ul",{className:"nav navbar-nav"},a.createElement("li",{className:"nav-item active"},a.createElement(A.a,{className:"nav-link",to:"/portfolio"},"Home")),a.createElement("li",{className:"nav-item"},a.createElement(A.a,{className:"nav-link",to:"/portfolio/transactions"},"Transactions")),a.createElement("li",{className:"nav-item"},a.createElement(L,null)))))}}]),t}(a.Component),D=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=n.handleSubmit.bind(Object(S.a)(Object(S.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),window.location.reload()}},{key:"render",value:function(){return a.createElement("div",{className:"container add_trans_div"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("button",{name:"loginFormBtn",type:"submit"},"Login")))}}]),t}(a.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.loadPositions()}},{key:"render",value:function(){var e=this;return this.props.authenticated?a.createElement("div",{className:"container"},a.createElement(P,null),a.createElement(b.a,null,a.createElement(p.a,{path:"/portfolio/transactions",component:q}),a.createElement(p.a,{path:["/","/portfolio"],component:function(){return a.createElement(w,{positions:e.props.positions})}}))):a.createElement("div",{className:"container"},a.createElement(P,null),a.createElement(p.a,{component:D}))}}]),t}(a.Component),G=Object(h.b)(function(e){return{positions:e.portfolio.positions,authenticated:e.portfolio.isAuthenticated}},function(e){return{loadPositions:function(){return e(j())}}})(I),_=(n(69),n(75)),F=n(74),Q=n(14),z=n(35),J={positions:[],isAuthenticated:!1},M={transactions:[]},U=Object(Q.c)({portfolio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GotPositions":return{positions:t.positions,isAuthenticated:t.isAuthenticated};default:return e}},portfolioTransactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GotTransactions":return{transactions:t.transactions};default:return e}}});var W=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{store:(e={},Object(Q.e)(U,e,Object(Q.d)(Object(Q.a)(z.a))))},r.a.createElement(_.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(F.a,{path:"/loginz",component:D}),r.a.createElement(F.a,{path:["/","/portfolio"],component:G}))));var e}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.b78f7ff5.chunk.js.map